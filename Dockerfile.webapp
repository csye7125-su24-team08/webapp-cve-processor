FROM golang:1.22.3

WORKDIR /app

COPY ./cve-processor/go.mod ./cve-processor/go.sum ./

RUN go mod download

COPY ./cve-processor/*.go ./

# ENV HOST=host.docker.internal
# ENV PORT=5432
# ENV USER=anuraag
# ENV PWD=anuraag
# ENV DB=postgres
# ENV FILEURL=https://github.com/CVEProject/cvelistV5/archive/refs/heads/main.zip

RUN CGO_ENABLED=0 go build -o /webapp

CMD ["/webapp"]
